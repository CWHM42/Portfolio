<!-- This results.ejs file includes the partials files, header.ejs and footer.ejs. -->
<%- include('partials/header') %>
    <div class="wrapper">
        <!-- If no results exist for a search term, a "No results" message displays   -->
        <% if (data.totalResults === 0) { %>
            <h5 class="search-results">No results for "<%= searchQuery %>".</h5>
            <!-- else, results will display... -->
        <% } else { %>
            <h5 class="search-results">Search results for "<%= searchQuery %>:"</h5>

        <!-- Recipe -->
        <div class="recipe-container">
        <% for (let i=0; i<=15; i++) {
            /* <!-- if image doesn't exist, recipe won't render at all. This prevents a recipe with no photo from displaying --> */
            if (recipeInfo[i].image !== undefined) { %>
                
                <div class="recipe-group">

                    <!-- recipe name -->
                    <div class="div-long-txt">
                        <h5 class="long"><%= recipeInfo[i].title %></h5>
                    </div>

                    <div class="button-container">
                            <!-- To pull image for each recipe, we using a base image url and ejs to pull in id property -->
                            <img src="https://spoonacular.com/recipeImages/<%= recipeInfo[i].id %>-556x370.jpg" alt="food image" height="100%" width="100%">    
                        
                            <!-- "Save To Favorites" heart -->
                            <form class="inline-btn" action="/addToFavs" method="GET">
                                <button class="heart" type="submit" name="id" value="<%=recipeInfo[i].id %>"><i class="fa-solid fa-heart"></i></button>
                            </form>
                             <!-- "Get Recipe" button -->
                        <form class="inline-btn" action="/getRecipe" method="GET">
                            <button class="get-recipe" type="submit" name="id" value="<%=recipeInfo[i].id %>">Get Recipe!</button>
                        </form>
                    </div> 
                </div>
            <% }
            }     
        } %>
    </div>
   </div>
         
<%- include('partials/footer') %>